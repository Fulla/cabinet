---
- config:
    - testset: "Quickstart app tests"

- test:
    - group: "Quickstart"
    - name: "Make sure the yahoo node ISN'T there to begin with"
    - url: "/vault/node/ivan_yahoo"
    - expected_status: [404]

- test:
    - group: "Quickstart"
    - name: "Basic smoketest"
    - url: "/vault/nodes"

- test:
    - group: "Quickstart"
    - name: "Create a node"
    - url: "/vault/nodes"
    - method: "POST"
    - body: '{"name": "ivan/yahoo", "data": "my yahoo pass"}'
    - headers: {'Content-Type': 'application/json'}

- test:
    - group: "Quickstart"
    - name: "Make sure the yahoo node is here."
    - url: "/vault/nodes/ivan_yahoo"

- test:
    - group: "Quickstart"
    - name: "Get rid of the yahoo node"
    - url: "/vault/nodes/ivan_yahoo"
    - method: 'DELETE'

- test:
    - group: "Quickstart"
    - name: "Make sure yahoo node ISN'T there after we deleted him"
    - url: "/vault/nodes/ivan_yahoo"
    - expected_status: [404]
